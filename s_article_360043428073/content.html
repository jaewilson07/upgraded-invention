<div class="article-column zoom slds-text-longform selfServiceArticleLayout" data-aura-class="selfServiceArticleLayout" data-aura-rendered-by="78:142;a"><article class="summary" data-aura-rendered-by="79:142;a"><!--render facet: 3:177;a--><h2 class="article-head selfServiceArticleHeaderDetail" data-aura-class="selfServiceArticleHeaderDetail" data-aura-rendered-by="6:177;a">Archiving Historical Data Using a DataFlow</h2><h2 class="selfServiceArticleHeaderDetail" data-aura-class="selfServiceArticleHeaderDetail" data-aura-rendered-by="9:177;a"></h2><p class="article-summary" data-aura-rendered-by="10:177;a"></p><div class="meta" data-aura-rendered-by="13:177;a"><lightning-icon class="slds-icon-utility-clock timestamp-icon slds-button__icon slds-icon_container forceIcon" data-aura-class="forceIcon" data-aura-rendered-by="17:177;a" data-data-rendering-service-uid="88" icon-name="utility:clock"><span part="boundary" style="--sds-c-icon-color-background: var(--slds-c-icon-color-background, transparent)"><lightning-primitive-icon size="xx-small" variant="inverse"><svg aria-hidden="true" class="slds-icon slds-icon_xx-small" data-key="clock" focusable="false" part="icon" viewbox="0 0 520 520"><g><path d="M260 20C128 20 20 128 20 260s108 240 240 240 240-108 240-240S392 20 260 20zm0 420c-99 0-180-81-180-180S161 80 260 80s180 81 180 180-81 180-180 180zm34-178c-3-3-4-7-4-11v-96c0-8-7-15-15-15h-30c-8 0-15 7-15 15v121c0 4 2 8 4 11l74 74c6 6 15 6 21 0l21-21c6-6 6-15 0-21z"></path></g></svg></lightning-primitive-icon></span></lightning-icon><span class="date" data-aura-rendered-by="18:177;a"><span class="uiOutputDate" data-aura-class="uiOutputDate" data-aura-rendered-by="21:177;a">Oct 24, 2022</span></span><span class="dot" data-aura-rendered-by="22:177;a">•</span><span class="article-type" data-aura-rendered-by="24:177;a">Knowledge</span></div></article><article class="content" data-aura-rendered-by="80:142;a"><div class="full forcePageBlock forceRecordLayout" data-aura-class="forcePageBlock forceRecordLayout" data-aura-rendered-by="381:200;a"><div class="test-id__section slds-section slds-is-open full forcePageBlockSection forcePageBlockSectionView" data-aura-class="forcePageBlockSection forcePageBlockSectionView" data-aura-rendered-by="52:200;a"><h3 class="slds-section__title test-id__section-header-container" data-aura-rendered-by="54:200;a" data-target-reveals="sfdc:RecordField.Knowledge__kav.Title,sfdc:RecordField.Knowledge__kav.Article_Body__c"><button aria-controls="4:200;a" aria-expanded="true" class="slds-button test-id__section-header-button slds-section__title-action" data-aura-rendered-by="64:200;a" type="button"><!--render facet: 65:200;a--><lightning-icon class="slds-icon-utility-chevrondown test-id__section-header-icon section-icon slds-m-right_x-small slds-button__icon slds-icon_container forceIcon" data-aura-class="forceIcon" data-aura-rendered-by="60:200;a" data-data-rendering-service-uid="154" icon-name="utility:chevrondown"><span part="boundary" style="--sds-c-icon-color-background: var(--slds-c-icon-color-background, transparent)"><lightning-primitive-icon size="xx-small" variant="inverse"><svg aria-hidden="true" class="slds-icon slds-icon_xx-small" data-key="chevrondown" focusable="false" part="icon" viewbox="0 0 520 520"><g><path d="M476 178L271 385c-6 6-16 6-22 0L44 178c-6-6-6-16 0-22l22-22c6-6 16-6 22 0l161 163c6 6 16 6 22 0l161-162c6-6 16-6 22 0l22 22c5 6 5 15 0 21z"></path></g></svg></lightning-primitive-icon></span></lightning-icon><span class="test-id__section-header-title slds-truncate" data-aura-rendered-by="61:200;a">Information</span><!--render facet: 68:200;a--></button></h3><div aria-hidden="false" class="test-id__section-content slds-section__content section__content" data-aura-rendered-by="69:200;a" id="4:200;a" style="transition: none 0s ease 0s;"><div class="slds-form slds-form_stacked" data-aura-rendered-by="70:200;a"><div class="slds-grid slds-gutters_small full cols-1 forcePageBlockSectionRow" data-aura-class="forcePageBlockSectionRow" data-aura-rendered-by="24:200;a"><div class="slds-col slds-grid slds-has-flexi-truncate full forcePageBlockItem forcePageBlockItemView" data-aura-class="forcePageBlockItem forcePageBlockItemView" data-aura-rendered-by="11:200;a" data-target-selection-name="sfdc:RecordField.Knowledge__kav.Title"><div class="slds-form-element slds-form-element_readonly slds-grow slds-hint-parent override--slds-form-element" data-aura-rendered-by="12:200;a"><div class="test-id__field-label-container slds-form-element__label" data-aura-rendered-by="13:200;a"><span class="test-id__field-label" data-aura-rendered-by="14:200;a">Title</span></div><div class="slds-form-element__control slds-grid itemBody" data-aura-rendered-by="16:200;a"><span class="test-id__field-value slds-form-element__static slds-grow is-read-only" data-aura-rendered-by="17:200;a"><span class="uiOutputText" data-aura-class="uiOutputText" data-aura-rendered-by="9:200;a">Archiving Historical Data Using a DataFlow</span></span><!--render facet: 19:200;a--><!--render facet: 20:200;a--></div></div></div></div><div class="slds-grid slds-gutters_small full cols-1 forcePageBlockSectionRow" data-aura-class="forcePageBlockSectionRow" data-aura-rendered-by="48:200;a"><div class="slds-col slds-grid slds-has-flexi-truncate full long-text forcePageBlockItem forcePageBlockItemView" data-aura-class="forcePageBlockItem forcePageBlockItemView" data-aura-rendered-by="35:200;a" data-target-selection-name="sfdc:RecordField.Knowledge__kav.Article_Body__c"><div class="slds-form-element slds-form-element_readonly slds-grow slds-hint-parent override--slds-form-element" data-aura-rendered-by="36:200;a"><div class="test-id__field-label-container slds-form-element__label" data-aura-rendered-by="37:200;a"><span class="test-id__field-label" data-aura-rendered-by="38:200;a">Article Body</span></div><div class="slds-form-element__control slds-grid itemBody" data-aura-rendered-by="40:200;a"><span class="test-id__field-value slds-form-element__static slds-grow is-read-only" data-aura-rendered-by="41:200;a"><div class="slds-rich-text-editor__output uiOutputRichText forceOutputRichText selfServiceOutputRichTextWithSmartLinks" data-aura-class="uiOutputRichText forceOutputRichText selfServiceOutputRichTextWithSmartLinks" data-aura-rendered-by="32:200;a" dir="ltr"><h2 data-aura-rendered-by="33:200;a">Intro</h2>
<p data-aura-rendered-by="33:200;a"><span class="mt-font-size-11.0pt">Let's say you<font color="#000000"> put your information into a year-to-date DataSet that’s one month behind, starting by loading January’s data in February. Because this is a year-to-date DataSet, once February rolls around the next year, the data from the previous year disappears from the DataSet to make way for the new current year’s data. What if you wanted to archive the data into another DataSet once December’s data is loaded in the year-to-date file? As it turns out, there are a couple of ways to accomplish that. They can be done both in MySQL and Magic </font>ETL<font color="#000000">.</font></span></p>
<p data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">This process applies to any DataSet containing any year-to-date data. Once it hits a year mark, you can archive it for historical purposes.</span></span></p>
<h2 data-aura-rendered-by="33:200;a">Method #1</h2>
<h3 data-aura-rendered-by="33:200;a">Method #1 Using a MySQL DataFlow</h3>
<p data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">This can be done using a stored procedure. This is the most flexible method and can be adapted to account for any extra logic that might need to be applied.</span></span></p>
<p data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">The code in this stored procedure assumes a few things:</span></span></p>
<ul data-aura-rendered-by="33:200;a"><li>
<p><span style="color: black;"><span class="mt-font-Calibri,sans-serif"><span class="mt-font-size-11.0pt">The current year-to-date data will be appended to a historical archive via a recursive DataFlow.</span></span></span></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-Calibri,sans-serif"><span class="mt-font-size-11.0pt">This recursive DataFlow has already been created.</span></span></span></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-Calibri,sans-serif"><span class="mt-font-size-11.0pt">The DataFlow has been set up to automatically run when the year-to-date DataSet updates.</span></span></span></p>
</li></ul>
<p data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">In the below example, the data will be coming from a DataSet called </span></span><span class="mt-font-courier-new"><span style="color: black;"><span class="mt-font-size-11.0pt">ytd_premium_data</span></span></span><span style="color: black;"><span class="mt-font-size-11.0pt">, and the historical archive will be called </span></span><span class="mt-font-courier-new"><span style="color: black;"><span class="mt-font-size-11.0pt">move_to_historical_method_1</span></span></span><span style="color: black;"><span class="mt-font-size-11.0pt">.<br/> <br/><img alt="archivingdata1.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOwB"/><br/> <br/><img alt="archivingdata2.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOwO"/><br/></span></span></p>
<p data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">Below is the code for the stored procedure:</span></span></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">CREATE PROCEDURE archive()</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">BEGIN</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- Get the max date from the premium data</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">    SELECT @maxDataDate := MAX(`Date`) </span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">    FROM   ytd_premium_data;</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- Get the max date from the archived data</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">    SELECT @maxArchiveDate := MAX(`Date`) </span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">    FROM   move_to_historical_method_1;</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- We will use these two dates later to determine whether or not the</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- current year-to-date data has already been added to the historical</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- archive</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- The following is a shortcut to dynamically create a table structure </span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- that's identical to another table, but leave it with no data in it. </span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- We’re going to use this trick to create a table with the same</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- structure as the year-to-date-data</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- Create a table by selecting only one row from the premium data</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">    CREATE TABLE archive_data </span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">    SELECT     * </span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">        FROM    ytd_premium_data LIMIT 1;</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- Get rid of all rows from the newly created table</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">    TRUNCATE TABLE archive_data;</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- If the conditions are met to archive the year-to-date data, this</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- new table will be populated with the year-to-date data and appended</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- to the historical DataSet. If the conditions are not met, the table</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- will remain empty, and an empty table will be appended to the</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- historical DataSet.</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- The year of data to be archived is last year's data. Remember that</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- the year-to-date data is a month behind, so December’s data won’t</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- be loaded until January of the next year.</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">    IF YEAR(CURRENT_DATE()) - 1 = YEAR(@maxDataDate) </span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- It's January, which means we should have December's data</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">    AND MONTH(CURRENT_DATE()) = 1    </span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- The data to be archived contains December's data         </span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">        AND MONTH(@maxDataDate) = 12        </span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- The data from the year-to-date has not already been added to the</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- archive</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">        AND @maxDataDate != @maxArchiveDate             </span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- If every condition checks out, then insert the year-to-date data to</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- be archived into the archive_data table for unioning to the </span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- historical data. Because of the date checks in the previous step,</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- the following code will only ever be executed once.</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">     THEN INSERT INTO archive_data                         </span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">           SELECT     * </span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">           FROM ytd_premium_data;                           </span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">    END IF;</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">END;</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">To call the stored procedure...</span></span></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">CALL archive();</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">Appending year-to-date data (if it’s ready to archive) to historical archive data (step name is <strong>DataFlow_output</strong>)...</span></span></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- Union whatever's in archive_data to thie historical table. If the coniditons for moving the data weren't met, archive_data will be empty.</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><span style="color: black;font-family: Source Code Pro, monospace;"> SELECT     *</span></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">FROM move_to_historical_method_1</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">UNION ALL</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">SELECT     *</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">FROM archive_data</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">This compares what’s already in the archived DataSet to what’s being put in. The <span class="mt-font-courier-new">MAX</span> dates for the data are matched. Then, we create a table that’s going to hold the data to be archived. We can use a shortcut of <span class="mt-font-courier-new">SELECT *</span> from the table with a limit of 1.  Then you truncate the table. This is a quick way to create the table schema without having to go through the process manually. That way, we don’t have to replicate the table schema; it does it automatically. </span></span></p>
<p data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">Run a couple of checks:</span></span></p>
<ul data-aura-rendered-by="33:200;a"><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Is it the right year?</span></span></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Is it January? (If so, December's DataSet will be loaded.)</span></span></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Is the month to be archived December? </span></span></p>
</li></ul>
<p data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">Then the last piece of code checks to make sure that the data to be archived hasn’t already been archived. Once it’s archived you don’t want it to archive it again.</span></span></p>
<p data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">I</span></span><span style="color: black;"><span class="mt-font-size-11.0pt">f it passes, it will be put in the archive data table that was created above. Then, later, all you need to do is just a simple union all with the rest of the archived data. This puts everything together. The process only archives it the one time.</span></span></p>
<h3 data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">Method #1 Using Magic</span></span></h3>
<p data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">This method is not as straightforward as using MySQL, but the DataFlow uses the same logic. </span></span></p>
<ol data-aura-rendered-by="33:200;a"><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">To get the <span class="mt-font-courier-new">MAX</span> date in Magic, you have to do a <strong>Group By</strong> transform on a column that is identical in every row. So the first step is to add a column with a constant value using the <strong>Add Constant </strong>transform. In this case, I’ve given it a numerical value of 1 and named it "One." This is done twice—once for the year-to-date premium data and once for the historical archive data.<br/> <br/><img alt="archivingdata3.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOwV"/><br/></span></span></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Insert a <strong>Group By </strong>transform and group by the column we just created ("One"), create a new column for each grouping, and select <strong>Maximum</strong> for the "Date" column. This step will also be done twice—once for the year-to-date premium data and once for the historical archive data. But you need to give different names to each new aggregated column.<br/> <br/><img alt="archivingdata4.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOwT"/><br/><img alt="archivingdata5.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOw5"/><br/></span></span></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Use a <strong>Join</strong> transform to join the two DataSets in Step 2 together on column "One."<br/> <br/></span></span><img alt="archivingdata6.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOwK"/><br/> <br/> <span style="color: black;"><span class="mt-font-size-11.0pt">Your results will contain the maximum date in the year-to-date data, the maximum date in the historical archive data, and two columns containing "One."</span></span><br/> <br/><img alt="archivingdata7.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOwJ"/></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Use an <strong>Add Constant</strong> to add today’s date to the other dates in the DataSet.<br/> <br/><img alt="archivingdata8.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOw9"/><br/></span></span></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Insert a <strong>Date Operations </strong>transform and create the columns "Current Month" and "Current Year" from the column "Today" and "Data Month" and "Data Year" from the column "MaxDataDate."<br/> <br/><img alt="archivingdata9.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOwW"/><br/></span></span></p>
</li></ol>
<p data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">Your data will now look something like this:<br/> <br/><img alt="archivingdata10.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOwF"/><br/></span></span></p>
<p data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">You now have all the dates and information you need to determine whether or not to append year-to-date data to the historical archive data.</span></span></p>
<ol data-aura-rendered-by="33:200;a" start="6"><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">To ensure every row in the year-to-date DataSet contains the data just created, insert a <strong>Join Data</strong> transform to an inner join on both DataSets and join on the column "One."<br/> <br/><img alt="archivingdata11.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOwZ"/><br/></span></span></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Using the <strong>Calculator</strong> transform, subtract 1 from "Current Year" to determine "Prior Year."<br/> <br/><img alt="archivingdata12.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOwH"/><br/></span></span></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Add a <strong>Filter Rows</strong> transform to apply the logic to determine whether or not the year-to-date DataSet contains data from December and whether or not it has already been added to the historical data archive.<br/> <br/><img alt="archivingdata13.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOwE"/><br/></span></span></p>
</li></ol>
<p data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">If this step passes all the checks, it will contain all the data from the year-to-date DataSet. If not, it will contain nothing.<br/> <br/><img alt="archivingdata14.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOwA"/><br/></span></span></p>
<ol data-aura-rendered-by="33:200;a" start="9"><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Use a <strong>Select Columns</strong> transform to get rid of all the extra columns we created to make the schema match what’s in the historical data archive.<br/> <br/><img alt="archivingdata15.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOwN"/><br/></span></span></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Add an <strong>Append Rows</strong> transform to append the year-to-date DataSet (if applicable) to the historical archive DataSet. Be sure to select <strong>Include all columns</strong> from the dropdown. If you’ve done everything correctly, a “No changes” message will appear beside each input DataSet.</span></span><br/> <br/><img alt="archivingdata16.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOw7"/></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Under <strong>Settings</strong>, check the box to make sure the transform will run whenever the year-to-date DataSet gets updated.<br/> <br/><img alt="archivingdata17.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOw8"/><br/></span></span></p>
</li></ol>
<h2 data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">Method #2</span></span></h2>
<h3 data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">Method #2 Using MySQL </span></span></h3>
<p data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">If there are no complex requirements for determining whether or not to archive the year-to-date data, and you know that the year-to-date DataSet will be complete by a certain date, then you can create a DataFlow that does nothing but archive the data, and then you can use a trick to schedule to run it on a certain date every year.</span></span></p>
<p data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">For our purposes, let’s suppose that we know the year-to-date DataSet will be complete and final by January 20 every year. The first thing we will need to do is create a CSV DataSet and schedule it to update every year on January 20.</span></span></p>
<ol data-aura-rendered-by="33:200;a"><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Navigate to https://<em>yourinstancename</em>.<a href="http://domo.com/connectors" rel="noopener" target="_blank">domo.com/connectors</a>/com.domo.connector.csv.easy.</span></span></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Put anything that makes sense into the box. Here we create a column called "Date" with a value of <span class="mt-font-courier-new">1800-01-01</span>.<br/> <br/><img alt="archivingdata19.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOwD"/><br/></span></span></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Click <strong>Next </strong>to bring up the <strong>Scheduling </strong>section.<br/> <br/><img alt="archivingdata20.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOwX"/><br/></span></span></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Click the <strong>Advanced Scheduling</strong> tab.<br/> <br/><img alt="archivingdata21.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOwP"/><br/></span></span></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Check the appropriate <strong>Month</strong>(s) and <strong>Days of Month</strong>. </span></span></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Click the <strong>Time </strong>tab and choose a time for the job to run. </span></span></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Click <strong>Next</strong>.</span></span></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Give the CSV DataSet a meaningful name and click <strong>Save</strong>.</span></span></p>
</li></ol>
<p data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">Now that we have a DataSet that automatically updatex every January 20, we just need a MySQL DataFlow that appends the year-to-date data to the archive DataSet. We will add this CSV DataSet to the DataSets in the DataFlow, and change the settings so that the DataFlow will run once that DataSet gets updated. Because the DataSet only gets update every January 20, then this has the effect of creating a scheduled DataFlow.<br/> <br/><img alt="archivingdata22.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOw6"/><br/></span></span></p>
<p data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">Here is the SQL used in the <strong>DataFlow Output</strong> transform:</span></span><br/>  </p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- This DataFlow won't automatically trigger until the scheduled</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- update file gets updated. When that happens, it will append last </span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">-- year's data to historical data.</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">SELECT     * </span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">FROM move_to_historical_method_2</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">UNION ALL</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">SELECT     *</span></span></span></code></p>
<p data-aura-rendered-by="33:200;a"><code><span style="color: black;"><span class="mt-font-Courier New"><span class="mt-font-size-11.0pt">FROM ytd_premium_data</span></span></span></code><br/>  </p>
<p data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">Finally, save, but <strong>do not run the DataFlow! </strong>Otherwise it immediately archives the year-to-date data.</span></span></p>
<h3 data-aura-rendered-by="33:200;a">
<span style="color: black;"><span class="mt-font-size-11.0pt">Method #2 Using </span></span><span style="color: black;"><span class="mt-font-size-11.0pt">Magic ETL</span></span>
</h3>
<p data-aura-rendered-by="33:200;a"><span style="color: black;"><span class="mt-font-size-11.0pt">The automatically scheduled Magic ETL simply appends year-to-date data to historical archive data. To add the automatic scheduling, you have to add the Auto Update DataSet and check the setting to run the transform whenever it updates. Unlike with a MySQL DataFlow, with Magic ETL, you can’t just add an input DataSet and not incorporate it into a transform because Magic will error out if you try. So you have do a couple of things to incorporate it into the DataFlow, but make sure it doesn’t actually do anything to the data.<br/> <br/><img alt="archivingdata23.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOwL"/><br/></span></span></p>
<ol data-aura-rendered-by="33:200;a"><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Add the "Auto Update" DataSet as an <strong>Input Dataset</strong>.</span></span></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Insert a <strong>Filter</strong> transform. Since one of the columns in this DataSet is a date, set the filter to select only the records where the "Date" IS NULL. This will result in no rows of data, which is good because we will later append it to the rest of the data, and because there are no rows, there will be zero effect on anything. <br/> <br/><img alt="archivingdata24.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOwR"/><br/> <br/> Because the CSV file adds two columns when it updates, "_BATCH_ID_" and "_BATCH_LAST_RUN_," we need to eliminate them from the data.</span></span></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Insert a <strong>Select Columns</strong> transform and select only "Date."</span></span><br/> <br/><img alt="archivingdata25.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOwY"/></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Insert an <strong>Append</strong> transform in which you select <strong>Include All Columns </strong>in the first dropdown.<br/> <br/><img alt="archivingdata26.png" src="/servlet/rtaImage?eid=ka05w00000123jQ&amp;feoid=00N5w00000Ri7BU&amp;refid=0EM5w000005vOwU"/><br/></span></span></p>
</li><li>
<p><span style="color: black;"><span class="mt-font-size-11.0pt">Save, but <strong>do not run the DataFlow</strong>! If you run this DataFlow, it will append whatever’s currently in the year-to-date DataSet to the archived data DataSet. </span></span></p>
</li></ol></div></span><!--render facet: 43:200;a--><!--render facet: 44:200;a--></div></div></div></div></div></div></div><div class="test-id__section slds-section slds-is-open full forcePageBlockSection forcePageBlockSectionView" data-aura-class="forcePageBlockSection forcePageBlockSectionView" data-aura-rendered-by="141:200;a"><h3 class="slds-section__title test-id__section-header-container" data-aura-rendered-by="143:200;a" data-target-reveals="sfdc:RecordField.Knowledge__kav.Preview_Article__c,sfdc:RecordField.Knowledge__kav.UrlName,sfdc:RecordField.Knowledge__kav.Summary"><button aria-controls="71:200;a" aria-expanded="true" class="slds-button test-id__section-header-button slds-section__title-action" data-aura-rendered-by="153:200;a" type="button"><!--render facet: 154:200;a--><lightning-icon class="slds-icon-utility-chevrondown test-id__section-header-icon section-icon slds-m-right_x-small slds-button__icon slds-icon_container forceIcon" data-aura-class="forceIcon" data-aura-rendered-by="149:200;a" data-data-rendering-service-uid="155" icon-name="utility:chevrondown"><span part="boundary" style="--sds-c-icon-color-background: var(--slds-c-icon-color-background, transparent)"><lightning-primitive-icon size="xx-small" variant="inverse"><svg aria-hidden="true" class="slds-icon slds-icon_xx-small" data-key="chevrondown" focusable="false" part="icon" viewbox="0 0 520 520"><g><path d="M476 178L271 385c-6 6-16 6-22 0L44 178c-6-6-6-16 0-22l22-22c6-6 16-6 22 0l161 163c6 6 16 6 22 0l161-162c6-6 16-6 22 0l22 22c5 6 5 15 0 21z"></path></g></svg></lightning-primitive-icon></span></lightning-icon><span class="test-id__section-header-title slds-truncate" data-aura-rendered-by="150:200;a">Summary (only shown to internal users)</span><!--render facet: 157:200;a--></button></h3><div aria-hidden="false" class="test-id__section-content slds-section__content section__content" data-aura-rendered-by="158:200;a" id="71:200;a" style="transition: none 0s ease 0s;"><div class="slds-form slds-form_stacked" data-aura-rendered-by="159:200;a"><div class="slds-grid slds-gutters_small full cols-1 forcePageBlockSectionRow" data-aura-class="forcePageBlockSectionRow" data-aura-rendered-by="93:200;a"><div class="slds-col slds-grid slds-has-flexi-truncate full forcePageBlockItem forcePageBlockItemView" data-aura-class="forcePageBlockItem forcePageBlockItemView" data-aura-rendered-by="80:200;a" data-target-selection-name="sfdc:RecordField.Knowledge__kav.Preview_Article__c"><div class="slds-form-element slds-form-element_readonly slds-grow slds-hint-parent override--slds-form-element" data-aura-rendered-by="81:200;a"><div class="test-id__field-label-container slds-form-element__label" data-aura-rendered-by="82:200;a"><span class="test-id__field-label" data-aura-rendered-by="83:200;a">Preview Article</span></div><div class="slds-form-element__control slds-grid itemBody" data-aura-rendered-by="85:200;a"><span class="test-id__field-value slds-form-element__static slds-grow is-read-only" data-aura-rendered-by="86:200;a"><span class="lvm-grid-no-fade-out undefined forceOutputFormulaHtml" data-aura-class="forceOutputFormulaHtml" data-aura-rendered-by="77:200;a"><a data-aura-rendered-by="78:200;a" href="https://domo-support.domo.com/s/article/360043428073" target="_blank">Click here to preview</a></span></span><!--render facet: 88:200;a--><!--render facet: 89:200;a--></div></div></div></div><div class="slds-grid slds-gutters_small full cols-1 forcePageBlockSectionRow" data-aura-class="forcePageBlockSectionRow" data-aura-rendered-by="114:200;a"><div class="slds-col slds-grid slds-has-flexi-truncate full forcePageBlockItem forcePageBlockItemView" data-aura-class="forcePageBlockItem forcePageBlockItemView" data-aura-rendered-by="101:200;a" data-target-selection-name="sfdc:RecordField.Knowledge__kav.UrlName"><div class="slds-form-element slds-form-element_readonly slds-grow slds-hint-parent override--slds-form-element" data-aura-rendered-by="102:200;a"><div class="test-id__field-label-container slds-form-element__label" data-aura-rendered-by="103:200;a"><span class="test-id__field-label" data-aura-rendered-by="104:200;a">URL Name</span></div><div class="slds-form-element__control slds-grid itemBody" data-aura-rendered-by="106:200;a"><span class="test-id__field-value slds-form-element__static slds-grow is-read-only" data-aura-rendered-by="107:200;a"><span class="uiOutputText" data-aura-class="uiOutputText" data-aura-rendered-by="99:200;a">360043428073</span></span><!--render facet: 109:200;a--><!--render facet: 110:200;a--></div></div></div></div><div class="slds-grid slds-gutters_small full cols-1 forcePageBlockSectionRow" data-aura-class="forcePageBlockSectionRow" data-aura-rendered-by="137:200;a"><div class="slds-col slds-grid slds-has-flexi-truncate has-tooltip full long-text forcePageBlockItem forcePageBlockItemView" data-aura-class="forcePageBlockItem forcePageBlockItemView" data-aura-rendered-by="124:200;a" data-target-selection-name="sfdc:RecordField.Knowledge__kav.Summary"><div class="slds-form-element slds-form-element_readonly slds-grow slds-hint-parent override--slds-form-element" data-aura-rendered-by="125:200;a"><div class="test-id__field-label-container slds-form-element__label" data-aura-rendered-by="126:200;a"><span class="test-id__field-label" data-aura-rendered-by="127:200;a">Summary</span><div aria-describedby="tt-for-421:0" class="tooltip-trigger uiTooltip" data-aura-class="uiTooltip" data-aura-rendered-by="424:0" tabindex="0"><lightning-icon class="slds-icon-utility-info tooltipIcon slds-button__icon slds-icon_container forceIcon" data-aura-class="forceIcon" data-aura-rendered-by="420:0" data-data-rendering-service-uid="156" icon-name="utility:info"><span part="boundary" style="--sds-c-icon-color-background: var(--slds-c-icon-color-background, transparent)"><lightning-primitive-icon size="xx-small" variant="inverse"><svg aria-hidden="true" class="slds-icon slds-icon_xx-small" data-key="info" focusable="false" part="icon" viewbox="0 0 520 520"><g><path d="M260 20a240 240 0 100 480 240 240 0 100-480zm0 121c17 0 30 13 30 30s-13 30-30 30-30-13-30-30 13-30 30-30zm50 210c0 5-4 9-10 9h-80c-5 0-10-3-10-9v-20c0-5 4-11 10-11 5 0 10-3 10-9v-40c0-5-4-11-10-11-5 0-10-3-10-9v-20c0-5 4-11 10-11h60c5 0 10 5 10 11v80c0 5 4 9 10 9 5 0 10 5 10 11z"></path></g></svg></lightning-primitive-icon></span></lightning-icon><span class="tooltip-invisible" data-aura-rendered-by="426:0" id="tt-for-421:0" role="tooltip">Briefly describe the article. The summary is used in search results to help users find relevant articles. You can improve the accuracy of search results by including phrases that your customers use to describe this issue or topic.</span></div></div><div class="slds-form-element__control slds-grid itemBody" data-aura-rendered-by="129:200;a"><span class="test-id__field-value slds-form-element__static slds-grow is-read-only" data-aura-rendered-by="130:200;a"><span class="uiOutputTextArea" data-aura-class="uiOutputTextArea" data-aura-rendered-by="120:200;a"><!--render facet: 122:200;a--></span></span><!--render facet: 132:200;a--><!--render facet: 133:200;a--></div></div></div></div></div></div></div><div class="test-id__section slds-section slds-is-open full forcePageBlockSection forcePageBlockSectionView" data-aura-class="forcePageBlockSection forcePageBlockSectionView" data-aura-rendered-by="361:200;a"><h3 class="slds-section__title test-id__section-header-container" data-aura-rendered-by="363:200;a" data-target-reveals="sfdc:RecordField.Knowledge__kav.ArticleNumber,sfdc:RecordField.Knowledge__kav.ArchivedDate,sfdc:RecordField.Knowledge__kav.Language,sfdc:RecordField.Knowledge__kav.MasterVersionId,sfdc:RecordField.Knowledge__kav.ArticleTotalViewCount,sfdc:RecordField.Knowledge__kav.ArticleCreatedDate,sfdc:RecordField.Knowledge__kav.FirstPublishedDate"><button aria-controls="160:200;a" aria-expanded="true" class="slds-button test-id__section-header-button slds-section__title-action" data-aura-rendered-by="373:200;a" type="button"><!--render facet: 374:200;a--><lightning-icon class="slds-icon-utility-chevrondown test-id__section-header-icon section-icon slds-m-right_x-small slds-button__icon slds-icon_container forceIcon" data-aura-class="forceIcon" data-aura-rendered-by="369:200;a" data-data-rendering-service-uid="157" icon-name="utility:chevrondown"><span part="boundary" style="--sds-c-icon-color-background: var(--slds-c-icon-color-background, transparent)"><lightning-primitive-icon size="xx-small" variant="inverse"><svg aria-hidden="true" class="slds-icon slds-icon_xx-small" data-key="chevrondown" focusable="false" part="icon" viewbox="0 0 520 520"><g><path d="M476 178L271 385c-6 6-16 6-22 0L44 178c-6-6-6-16 0-22l22-22c6-6 16-6 22 0l161 163c6 6 16 6 22 0l161-162c6-6 16-6 22 0l22 22c5 6 5 15 0 21z"></path></g></svg></lightning-primitive-icon></span></lightning-icon><span class="test-id__section-header-title slds-truncate" data-aura-rendered-by="370:200;a">System Information (only shown to internal users)</span><!--render facet: 377:200;a--></button></h3><div aria-hidden="false" class="test-id__section-content slds-section__content section__content" data-aura-rendered-by="378:200;a" id="160:200;a" style="transition: none 0s ease 0s;"><div class="slds-form slds-form_stacked" data-aura-rendered-by="379:200;a"><div class="slds-grid slds-gutters_small full cols-2 forcePageBlockSectionRow" data-aura-class="forcePageBlockSectionRow" data-aura-rendered-by="197:200;a"><div class="slds-col slds-grid slds-has-flexi-truncate full forcePageBlockItem forcePageBlockItemView" data-aura-class="forcePageBlockItem forcePageBlockItemView" data-aura-rendered-by="167:200;a" data-target-selection-name="sfdc:RecordField.Knowledge__kav.ArticleNumber"><div class="slds-form-element slds-form-element_readonly slds-grow slds-hint-parent override--slds-form-element" data-aura-rendered-by="168:200;a"><div class="test-id__field-label-container slds-form-element__label" data-aura-rendered-by="169:200;a"><span class="test-id__field-label" data-aura-rendered-by="170:200;a">Article Number</span></div><div class="slds-form-element__control slds-grid itemBody" data-aura-rendered-by="172:200;a"><span class="test-id__field-value slds-form-element__static slds-grow is-read-only" data-aura-rendered-by="173:200;a"><span class="uiOutputText" data-aura-class="uiOutputText" data-aura-rendered-by="165:200;a">000004608</span></span><!--render facet: 175:200;a--><!--render facet: 176:200;a--></div></div></div><div class="slds-col slds-grid slds-has-flexi-truncate full forcePageBlockItem forcePageBlockItemView" data-aura-class="forcePageBlockItem forcePageBlockItemView" data-aura-rendered-by="184:200;a" data-target-selection-name="sfdc:RecordField.Knowledge__kav.ArchivedDate"><div class="slds-form-element slds-form-element_readonly slds-grow slds-hint-parent override--slds-form-element" data-aura-rendered-by="185:200;a"><div class="test-id__field-label-container slds-form-element__label" data-aura-rendered-by="186:200;a"><span class="test-id__field-label" data-aura-rendered-by="187:200;a">Archived Date</span></div><div class="slds-form-element__control slds-grid itemBody" data-aura-rendered-by="189:200;a"><span class="test-id__field-value slds-form-element__static slds-grow is-read-only" data-aura-rendered-by="190:200;a"><span class="uiOutputDateTime" data-aura-class="uiOutputDateTime" data-aura-rendered-by="182:200;a"></span></span><!--render facet: 192:200;a--><!--render facet: 193:200;a--></div></div></div></div><div class="slds-grid slds-gutters_small full cols-2 forcePageBlockSectionRow" data-aura-class="forcePageBlockSectionRow" data-aura-rendered-by="252:200;a"><div class="slds-col slds-grid slds-has-flexi-truncate full forcePageBlockItem forcePageBlockItemView" data-aura-class="forcePageBlockItem forcePageBlockItemView" data-aura-rendered-by="206:200;a" data-target-selection-name="sfdc:RecordField.Knowledge__kav.Language"><div class="slds-form-element slds-form-element_readonly slds-grow slds-hint-parent override--slds-form-element" data-aura-rendered-by="207:200;a"><div class="test-id__field-label-container slds-form-element__label" data-aura-rendered-by="208:200;a"><span class="test-id__field-label" data-aura-rendered-by="209:200;a">Language</span></div><div class="slds-form-element__control slds-grid itemBody" data-aura-rendered-by="211:200;a"><span class="test-id__field-value slds-form-element__static slds-grow is-read-only" data-aura-rendered-by="212:200;a"><span data-aura-rendered-by="203:200;a">English</span></span><!--render facet: 214:200;a--><!--render facet: 215:200;a--></div></div></div><div class="slds-col slds-grid slds-has-flexi-truncate full forcePageBlockItem forcePageBlockItemView" data-aura-class="forcePageBlockItem forcePageBlockItemView" data-aura-rendered-by="239:200;a" data-target-selection-name="sfdc:RecordField.Knowledge__kav.MasterVersionId"><div class="slds-form-element slds-form-element_readonly slds-grow slds-hint-parent override--slds-form-element" data-aura-rendered-by="240:200;a"><div class="test-id__field-label-container slds-form-element__label" data-aura-rendered-by="241:200;a"><span class="test-id__field-label" data-aura-rendered-by="242:200;a">Primary Version</span></div><div class="slds-form-element__control slds-grid itemBody" data-aura-rendered-by="244:200;a"><span class="test-id__field-value slds-form-element__static slds-grow is-read-only" data-aura-rendered-by="245:200;a"><!--render facet: 221:200;a--><!--render facet: 223:200;a--><!--render facet: 225:200;a--><a class="outputLookupLink slds-truncate outputLookupLink-ka05w00000123jQAAQ-219:200;a forceOutputLookup" data-aura-class="forceOutputLookup" data-aura-rendered-by="230:200;a" data-navigable="true" data-ownerid="219:200;a" data-recordid="ka05w00000123jQAAQ" data-refid="recordId" data-special-link="true" href="javascript:void(0);" rel="noreferrer" target="_blank" title="Archiving Historical Data Using a DataFlow">Archiving Historical Data Using a DataFlow<!--render facet: 233:200;a--></a></span><!--render facet: 247:200;a--><!--render facet: 248:200;a--></div></div></div></div><div class="slds-grid slds-gutters_small full cols-2 forcePageBlockSectionRow" data-aura-class="forcePageBlockSectionRow" data-aura-rendered-by="287:200;a"><div class="slds-col slds-grid slds-has-flexi-truncate full forcePageBlockItem forcePageBlockItemView" data-aura-class="forcePageBlockItem forcePageBlockItemView" data-aura-rendered-by="260:200;a" data-target-selection-name="sfdc:RecordField.Knowledge__kav.ArticleTotalViewCount"><div class="slds-form-element slds-form-element_readonly slds-grow slds-hint-parent override--slds-form-element" data-aura-rendered-by="261:200;a"><div class="test-id__field-label-container slds-form-element__label" data-aura-rendered-by="262:200;a"><span class="test-id__field-label" data-aura-rendered-by="263:200;a">Article Total View Count</span></div><div class="slds-form-element__control slds-grid itemBody" data-aura-rendered-by="265:200;a"><span class="test-id__field-value slds-form-element__static slds-grow is-read-only" data-aura-rendered-by="266:200;a"><span class="uiOutputNumber" data-aura-class="uiOutputNumber" data-aura-rendered-by="258:200;a" dir="auto">12,900</span></span><!--render facet: 268:200;a--><!--render facet: 269:200;a--></div></div></div><div class="slds-col slds-grid slds-has-flexi-truncate full blank-item forcePageBlockItem forcePageBlockItemView" data-aura-class="forcePageBlockItem forcePageBlockItemView" data-aura-rendered-by="274:200;a" data-target-selection-name=""><div class="slds-form-element slds-grow slds-hint-parent override--slds-form-element" data-aura-rendered-by="275:200;a"><div class="test-id__field-label-container slds-form-element__label slds-hide" data-aura-rendered-by="276:200;a"><span class="test-id__field-label" data-aura-rendered-by="277:200;a"></span></div><div class="slds-form-element__control slds-grid itemBody" data-aura-rendered-by="279:200;a"><span class="test-id__field-value slds-form-element__static slds-grow slds-is-empty is-read-only" data-aura-rendered-by="280:200;a"><!--render facet: 281:200;a--></span><!--render facet: 282:200;a--><!--render facet: 283:200;a--></div></div></div></div><div class="slds-grid slds-gutters_small full cols-2 forcePageBlockSectionRow" data-aura-class="forcePageBlockSectionRow" data-aura-rendered-by="322:200;a"><div class="slds-col slds-grid slds-has-flexi-truncate full forcePageBlockItem forcePageBlockItemView" data-aura-class="forcePageBlockItem forcePageBlockItemView" data-aura-rendered-by="295:200;a" data-target-selection-name="sfdc:RecordField.Knowledge__kav.ArticleCreatedDate"><div class="slds-form-element slds-form-element_readonly slds-grow slds-hint-parent override--slds-form-element" data-aura-rendered-by="296:200;a"><div class="test-id__field-label-container slds-form-element__label" data-aura-rendered-by="297:200;a"><span class="test-id__field-label" data-aura-rendered-by="298:200;a">Article Created Date</span></div><div class="slds-form-element__control slds-grid itemBody" data-aura-rendered-by="300:200;a"><span class="test-id__field-value slds-form-element__static slds-grow is-read-only" data-aura-rendered-by="301:200;a"><span class="uiOutputDateTime" data-aura-class="uiOutputDateTime" data-aura-rendered-by="293:200;a">10/24/2022, 10:16 PM</span></span><!--render facet: 303:200;a--><!--render facet: 304:200;a--></div></div></div><div class="slds-col slds-grid slds-has-flexi-truncate full blank-item forcePageBlockItem forcePageBlockItemView" data-aura-class="forcePageBlockItem forcePageBlockItemView" data-aura-rendered-by="309:200;a" data-target-selection-name=""><div class="slds-form-element slds-grow slds-hint-parent override--slds-form-element" data-aura-rendered-by="310:200;a"><div class="test-id__field-label-container slds-form-element__label slds-hide" data-aura-rendered-by="311:200;a"><span class="test-id__field-label" data-aura-rendered-by="312:200;a"></span></div><div class="slds-form-element__control slds-grid itemBody" data-aura-rendered-by="314:200;a"><span class="test-id__field-value slds-form-element__static slds-grow slds-is-empty is-read-only" data-aura-rendered-by="315:200;a"><!--render facet: 316:200;a--></span><!--render facet: 317:200;a--><!--render facet: 318:200;a--></div></div></div></div><div class="slds-grid slds-gutters_small full cols-2 forcePageBlockSectionRow" data-aura-class="forcePageBlockSectionRow" data-aura-rendered-by="357:200;a"><div class="slds-col slds-grid slds-has-flexi-truncate full forcePageBlockItem forcePageBlockItemView" data-aura-class="forcePageBlockItem forcePageBlockItemView" data-aura-rendered-by="330:200;a" data-target-selection-name="sfdc:RecordField.Knowledge__kav.FirstPublishedDate"><div class="slds-form-element slds-form-element_readonly slds-grow slds-hint-parent override--slds-form-element" data-aura-rendered-by="331:200;a"><div class="test-id__field-label-container slds-form-element__label" data-aura-rendered-by="332:200;a"><span class="test-id__field-label" data-aura-rendered-by="333:200;a">First Published Date</span></div><div class="slds-form-element__control slds-grid itemBody" data-aura-rendered-by="335:200;a"><span class="test-id__field-value slds-form-element__static slds-grow is-read-only" data-aura-rendered-by="336:200;a"><span class="uiOutputDateTime" data-aura-class="uiOutputDateTime" data-aura-rendered-by="328:200;a">10/24/2022, 10:41 PM</span></span><!--render facet: 338:200;a--><!--render facet: 339:200;a--></div></div></div><div class="slds-col slds-grid slds-has-flexi-truncate full blank-item forcePageBlockItem forcePageBlockItemView" data-aura-class="forcePageBlockItem forcePageBlockItemView" data-aura-rendered-by="344:200;a" data-target-selection-name=""><div class="slds-form-element slds-grow slds-hint-parent override--slds-form-element" data-aura-rendered-by="345:200;a"><div class="test-id__field-label-container slds-form-element__label slds-hide" data-aura-rendered-by="346:200;a"><span class="test-id__field-label" data-aura-rendered-by="347:200;a"></span></div><div class="slds-form-element__control slds-grid itemBody" data-aura-rendered-by="349:200;a"><span class="test-id__field-value slds-form-element__static slds-grow slds-is-empty is-read-only" data-aura-rendered-by="350:200;a"><!--render facet: 351:200;a--></span><!--render facet: 352:200;a--><!--render facet: 353:200;a--></div></div></div></div></div></div></div></div></article></div>